{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getContractError = void 0;\nconst abi_js_1 = require(\"../../errors/abi.js\");\nconst base_js_1 = require(\"../../errors/base.js\");\nconst contract_js_1 = require(\"../../errors/contract.js\");\nconst rpc_js_1 = require(\"../../errors/rpc.js\");\nconst EXECUTION_REVERTED_ERROR_CODE = 3;\nfunction getContractError(err, {\n  abi,\n  address,\n  args,\n  docsPath,\n  functionName,\n  sender\n}) {\n  const {\n    code,\n    data,\n    message,\n    shortMessage\n  } = err instanceof contract_js_1.RawContractError ? err : err instanceof base_js_1.BaseError ? err.walk(err => 'data' in err) || err.walk() : {};\n  const cause = (() => {\n    if (err instanceof abi_js_1.AbiDecodingZeroDataError) return new contract_js_1.ContractFunctionZeroDataError({\n      functionName\n    });\n    if ([EXECUTION_REVERTED_ERROR_CODE, rpc_js_1.InternalRpcError.code].includes(code) && (data || message || shortMessage)) {\n      return new contract_js_1.ContractFunctionRevertedError({\n        abi,\n        data: typeof data === 'object' ? data.data : data,\n        functionName,\n        message: shortMessage ?? message\n      });\n    }\n    return err;\n  })();\n  return new contract_js_1.ContractFunctionExecutionError(cause, {\n    abi,\n    args,\n    contractAddress: address,\n    docsPath,\n    functionName,\n    sender\n  });\n}\nexports.getContractError = getContractError;","map":{"version":3,"names":["abi_js_1","require","base_js_1","contract_js_1","rpc_js_1","EXECUTION_REVERTED_ERROR_CODE","getContractError","err","abi","address","args","docsPath","functionName","sender","code","data","message","shortMessage","RawContractError","BaseError","walk","cause","AbiDecodingZeroDataError","ContractFunctionZeroDataError","InternalRpcError","includes","ContractFunctionRevertedError","ContractFunctionExecutionError","contractAddress","exports"],"sources":["/Users/nikhilbhatia/NIkhil/ZT-Prejects/wagmi-react-app/node_modules/@safe-global/safe-apps-sdk/node_modules/viem/utils/errors/getContractError.ts"],"sourcesContent":["import type { Abi, Address } from 'abitype'\n\nimport { AbiDecodingZeroDataError } from '../../errors/abi.js'\nimport { BaseError } from '../../errors/base.js'\nimport {\n  ContractFunctionExecutionError,\n  type ContractFunctionExecutionErrorType,\n  ContractFunctionRevertedError,\n  type ContractFunctionRevertedErrorType,\n  ContractFunctionZeroDataError,\n  type ContractFunctionZeroDataErrorType,\n  RawContractError,\n} from '../../errors/contract.js'\nimport { InternalRpcError } from '../../errors/rpc.js'\nimport type { ErrorType } from '../../errors/utils.js'\n\nconst EXECUTION_REVERTED_ERROR_CODE = 3\n\nexport type GetContractErrorReturnType<cause = ErrorType> = Omit<\n  ContractFunctionExecutionErrorType,\n  'cause'\n> & {\n  cause:\n    | cause\n    | ContractFunctionZeroDataErrorType\n    | ContractFunctionRevertedErrorType\n}\n\nexport function getContractError<err extends ErrorType<string>>(\n  err: err,\n  {\n    abi,\n    address,\n    args,\n    docsPath,\n    functionName,\n    sender,\n  }: {\n    abi: Abi\n    args: any\n    address?: Address\n    docsPath?: string\n    functionName: string\n    sender?: Address\n  },\n): GetContractErrorReturnType {\n  const { code, data, message, shortMessage } = (\n    err instanceof RawContractError\n      ? err\n      : err instanceof BaseError\n        ? err.walk((err) => 'data' in (err as Error)) || err.walk()\n        : {}\n  ) as RawContractError\n\n  const cause = (() => {\n    if (err instanceof AbiDecodingZeroDataError)\n      return new ContractFunctionZeroDataError({ functionName })\n    if (\n      [EXECUTION_REVERTED_ERROR_CODE, InternalRpcError.code].includes(code) &&\n      (data || message || shortMessage)\n    ) {\n      return new ContractFunctionRevertedError({\n        abi,\n        data: typeof data === 'object' ? data.data : data,\n        functionName,\n        message: shortMessage ?? message,\n      })\n    }\n    return err\n  })()\n\n  return new ContractFunctionExecutionError(cause as BaseError, {\n    abi,\n    args,\n    contractAddress: address,\n    docsPath,\n    functionName,\n    sender,\n  }) as GetContractErrorReturnType\n}\n"],"mappings":";;;;;;AAEA,MAAAA,QAAA,GAAAC,OAAA;AACA,MAAAC,SAAA,GAAAD,OAAA;AACA,MAAAE,aAAA,GAAAF,OAAA;AASA,MAAAG,QAAA,GAAAH,OAAA;AAGA,MAAMI,6BAA6B,GAAG,CAAC;AAYvC,SAAgBC,gBAAgBA,CAC9BC,GAAQ,EACR;EACEC,GAAG;EACHC,OAAO;EACPC,IAAI;EACJC,QAAQ;EACRC,YAAY;EACZC;AAAM,CAQP;EAED,MAAM;IAAEC,IAAI;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAY,CAAE,GACzCV,GAAG,YAAYJ,aAAA,CAAAe,gBAAgB,GAC3BX,GAAG,GACHA,GAAG,YAAYL,SAAA,CAAAiB,SAAS,GACtBZ,GAAG,CAACa,IAAI,CAAEb,GAAG,IAAK,MAAM,IAAKA,GAAa,CAAC,IAAIA,GAAG,CAACa,IAAI,EAAE,GACzD,EACa;EAErB,MAAMC,KAAK,GAAG,CAAC,MAAK;IAClB,IAAId,GAAG,YAAYP,QAAA,CAAAsB,wBAAwB,EACzC,OAAO,IAAInB,aAAA,CAAAoB,6BAA6B,CAAC;MAAEX;IAAY,CAAE,CAAC;IAC5D,IACE,CAACP,6BAA6B,EAAED,QAAA,CAAAoB,gBAAgB,CAACV,IAAI,CAAC,CAACW,QAAQ,CAACX,IAAI,CAAC,KACpEC,IAAI,IAAIC,OAAO,IAAIC,YAAY,CAAC,EACjC;MACA,OAAO,IAAId,aAAA,CAAAuB,6BAA6B,CAAC;QACvClB,GAAG;QACHO,IAAI,EAAE,OAAOA,IAAI,KAAK,QAAQ,GAAGA,IAAI,CAACA,IAAI,GAAGA,IAAI;QACjDH,YAAY;QACZI,OAAO,EAAEC,YAAY,IAAID;OAC1B,CAAC;;IAEJ,OAAOT,GAAG;EACZ,CAAC,EAAC,CAAE;EAEJ,OAAO,IAAIJ,aAAA,CAAAwB,8BAA8B,CAACN,KAAkB,EAAE;IAC5Db,GAAG;IACHE,IAAI;IACJkB,eAAe,EAAEnB,OAAO;IACxBE,QAAQ;IACRC,YAAY;IACZC;GACD,CAA+B;AAClC;AAnDAgB,OAAA,CAAAvB,gBAAA,GAAAA,gBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}